{"ast":null,"code":"import react from 'react';\nimport axios from \"axios\";\nconst initialState = [];\nuseEffect(() => {\n  axios.get(\"/crud/list.json\").then(res => {\n    initialState = res.data.dataList;\n  });\n}, []);\nexport default function articleReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'ADD':\n      {\n        return [...state, {\n          \"id\": action.id,\n          \"count\": 0,\n          \"title\": action.title,\n          \"content\": action.content,\n          \"date\": action.date\n        }];\n      }\n\n    case 'UPDATE':\n      {\n        let state = state.map(item => item.id === action.id ? { ...item,\n          ...action\n        } : item);\n        return [state];\n      }\n\n    case 'DELETE':\n      {\n        let state = state.filter(item => {\n          return item.id !== action.id;\n        });\n        return [state];\n      }\n\n    case \"READ\":\n      {\n        return [state];\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["react","axios","initialState","useEffect","get","then","res","data","dataList","articleReducer","state","action","type","id","title","content","date","map","item","filter"],"sources":["C:/Users/kimgi/Favorites/react_crud/src/component/article/ArticleReducer.js"],"sourcesContent":["\r\nimport react from 'react';\r\nimport axios from \"axios\";\r\n\r\nconst initialState = [];\r\nuseEffect(() => {\r\n    axios.get(\"/crud/list.json\").then((res) => {\r\n\t  initialState = res.data.dataList\r\n    });\r\n  }, []);\r\n\r\nexport default function articleReducer(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase 'ADD': {\r\n\t\t\treturn [\r\n\t\t\t\t...state,\r\n\t\t\t\t{\"id\": action.id,\r\n\t\t\t\t\"count\": 0,\r\n\t\t\t\t\"title\": action.title,\r\n\t\t\t\t\"content\": action.content,\r\n\t\t\t\t\"date\": action.date}\r\n\t\t\t]\r\n\t\t}\r\n\t\tcase 'UPDATE': {\r\n            let state = state.map((item) => item.id === action.id ? {...item, ...action } : item);\r\n\t\t\treturn [\r\n\t\t\t    state\r\n\t\t\t]\r\n\t\t}\r\n\t\tcase 'DELETE': {\r\n            let state = state.filter((item) => {return item.id !== action.id});\r\n\t\t\treturn [\r\n\t\t\t    state\r\n\t\t\t]\r\n\t\t}\r\n\t\tcase \"READ\" : {\r\n\t\t\treturn [\r\n\t\t\t    state\r\n\t\t\t]\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG,EAArB;AACAC,SAAS,CAAC,MAAM;EACZF,KAAK,CAACG,GAAN,CAAU,iBAAV,EAA6BC,IAA7B,CAAmCC,GAAD,IAAS;IAC5CJ,YAAY,GAAGI,GAAG,CAACC,IAAJ,CAASC,QAAxB;EACE,CAFD;AAGD,CAJM,EAIJ,EAJI,CAAT;AAMA,eAAe,SAASC,cAAT,GAAsD;EAAA,IAA9BC,KAA8B,uEAAtBR,YAAsB;EAAA,IAARS,MAAQ;;EACpE,QAAQA,MAAM,CAACC,IAAf;IACC,KAAK,KAAL;MAAY;QACX,OAAO,CACN,GAAGF,KADG,EAEN;UAAC,MAAMC,MAAM,CAACE,EAAd;UACA,SAAS,CADT;UAEA,SAASF,MAAM,CAACG,KAFhB;UAGA,WAAWH,MAAM,CAACI,OAHlB;UAIA,QAAQJ,MAAM,CAACK;QAJf,CAFM,CAAP;MAQA;;IACD,KAAK,QAAL;MAAe;QACL,IAAIN,KAAK,GAAGA,KAAK,CAACO,GAAN,CAAWC,IAAD,IAAUA,IAAI,CAACL,EAAL,KAAYF,MAAM,CAACE,EAAnB,GAAwB,EAAC,GAAGK,IAAJ;UAAU,GAAGP;QAAb,CAAxB,GAAgDO,IAApE,CAAZ;QACT,OAAO,CACHR,KADG,CAAP;MAGA;;IACD,KAAK,QAAL;MAAe;QACL,IAAIA,KAAK,GAAGA,KAAK,CAACS,MAAN,CAAcD,IAAD,IAAU;UAAC,OAAOA,IAAI,CAACL,EAAL,KAAYF,MAAM,CAACE,EAA1B;QAA6B,CAArD,CAAZ;QACT,OAAO,CACHH,KADG,CAAP;MAGA;;IACD,KAAK,MAAL;MAAc;QACb,OAAO,CACHA,KADG,CAAP;MAGA;;IACD;MACC,OAAOA,KAAP;EA7BF;AA+BA"},"metadata":{},"sourceType":"module"}