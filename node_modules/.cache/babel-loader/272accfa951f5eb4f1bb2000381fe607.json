{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport react, { useEffect } from 'react';\nimport axios from \"axios\";\nconst MODE_SAVE = 'SAVE';\nconst MODE_DEL = 'DELETE';\nconst MODE_UPDATE = 'UPDATE';\nconst MODE_SELECT = 'SELECT';\nexport const articleSave = saveData => ({\n  type: MODE_SAVE,\n  saveData: {\n    \"id\": saveData.id,\n    \"count\": saveData.count,\n    \"title\": saveData.title,\n    \"content\": saveData.content,\n    \"date\": saveData.date\n  }\n});\nexport const articleRemove = id => ({\n  type: MODE_DEL,\n  \"id\": id\n});\nexport const articleUpdate = updateData => ({\n  type: MODE_UPDATE,\n  updateData: {\n    \"id\": updateData.id,\n    \"count\": updateData.count,\n    \"title\": updateData.title,\n    \"content\": updateData.content,\n    \"date\": updateData.date\n  }\n});\nexport const selectRow = id => ({\n  type: MODE_DEL,\n  \"id\": id\n});\n\nlet initialState = () => {\n  _s();\n\n  let initData = {};\n  useEffect(() => {\n    axios.get(\"/crud/list.json\").then(res => {\n      initData.article = res.data.dataList;\n    });\n  }, []);\n  return initData;\n};\n\n_s(initialState, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\nexport default function ArticleReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case MODE_SAVE:\n      return { ...state,\n        article: {\n          \"id\": action.id,\n          \"count\": 0,\n          \"title\": action.title,\n          \"content\": action.content,\n          \"date\": action.date\n        }\n      };\n\n    case MODE_UPDATE:\n      return { ...state,\n        article: state.map(item => item.id === action.id ? { ...item,\n          ...action\n        } : item)\n      };\n\n    case MODE_DEL:\n      return { ...state,\n        article: state.filter(item => {\n          return item.id !== action.id;\n        })\n      };\n\n    case MODE_SELECT:\n      return { ...state,\n        article: state.find(row => {\n          row.id === action.id;\n        })\n      };\n\n    default:\n      return state;\n  }\n}\n_c = ArticleReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticleReducer\");","map":{"version":3,"names":["react","useEffect","axios","MODE_SAVE","MODE_DEL","MODE_UPDATE","MODE_SELECT","articleSave","saveData","type","id","count","title","content","date","articleRemove","articleUpdate","updateData","selectRow","initialState","initData","get","then","res","article","data","dataList","ArticleReducer","state","action","map","item","filter","find","row"],"sources":["C:/Users/kimgi/Favorites/react_crud/src/module/ArticleReducer.js"],"sourcesContent":["\r\nimport react, {useEffect} from 'react';\r\nimport axios from \"axios\";\r\n\r\nconst MODE_SAVE = 'SAVE';\r\nconst MODE_DEL = 'DELETE';\r\nconst MODE_UPDATE = 'UPDATE';\r\nconst MODE_SELECT = 'SELECT';\r\n\r\nexport const articleSave = (saveData) => (\r\n\t{\r\n\t\ttype : MODE_SAVE,\r\n\t\tsaveData : {\r\n\t\t\t\"id\": saveData.id,\r\n\t\t\t\"count\": saveData.count,\r\n\t\t\t\"title\": saveData.title,\r\n\t\t\t\"content\": saveData.content,\r\n\t\t\t\"date\": saveData.date\r\n\t\t}\r\n\t}\r\n);\r\n\r\nexport const articleRemove = (id) => (\r\n\t{\r\n\t\ttype : MODE_DEL,\r\n\t    \"id\": id,\r\n\t}\r\n);\r\n\r\nexport const articleUpdate = (updateData) => (\r\n\t{\r\n\t\ttype : MODE_UPDATE,\r\n\t\tupdateData : {\r\n\t\t\t\"id\": updateData.id,\r\n\t\t\t\"count\": updateData.count,\r\n\t\t\t\"title\": updateData.title,\r\n\t\t\t\"content\": updateData.content,\r\n\t\t\t\"date\": updateData.date\r\n\t\t}\r\n\t}\r\n);\r\n\r\nexport const selectRow = (id) => (\r\n\t{\r\n\t\ttype : MODE_DEL,\r\n\t    \"id\": id,\r\n\t}\r\n);\r\n\r\nlet initialState = () => {\r\n\tlet initData = {};\r\n\tuseEffect(() => {\r\n\t\taxios.get(\"/crud/list.json\").then((res) => {\r\n\t\t\tinitData.article = res.data.dataList;\r\n\t\t});\r\n\t  }, []);\r\n\t  return initData;\r\n}\r\n\r\n\r\nexport default function ArticleReducer(state = initialState, action) {\r\n\t\r\n\tswitch (action.type) {\r\n\t\tcase MODE_SAVE: \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tarticle : {\"id\": action.id,\r\n\t\t\t\t\"count\": 0,\r\n\t\t\t\t\"title\": action.title,\r\n\t\t\t\t\"content\": action.content,\r\n\t\t\t\t\"date\": action.date}\r\n\t\t\t}\r\n\t\t\r\n\t\tcase MODE_UPDATE: \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t    article : state.map((item) => item.id === action.id ? {...item, ...action } : item)\r\n\t\t\t}\r\n\t\t\r\n\t\tcase MODE_DEL: \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t    article : state.filter((item) => {return item.id !== action.id})\r\n\t\t\t}\r\n\t\t\r\n\t\tcase MODE_SELECT : \r\n\t\t\treturn {\r\n\t\t\t    ...state,\r\n\t\t\t\tarticle : state.find(row => {row.id === action.id})\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}"],"mappings":";;AACA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,SAAS,GAAG,MAAlB;AACA,MAAMC,QAAQ,GAAG,QAAjB;AACA,MAAMC,WAAW,GAAG,QAApB;AACA,MAAMC,WAAW,GAAG,QAApB;AAEA,OAAO,MAAMC,WAAW,GAAIC,QAAD,KAC1B;EACCC,IAAI,EAAGN,SADR;EAECK,QAAQ,EAAG;IACV,MAAMA,QAAQ,CAACE,EADL;IAEV,SAASF,QAAQ,CAACG,KAFR;IAGV,SAASH,QAAQ,CAACI,KAHR;IAIV,WAAWJ,QAAQ,CAACK,OAJV;IAKV,QAAQL,QAAQ,CAACM;EALP;AAFZ,CAD0B,CAApB;AAaP,OAAO,MAAMC,aAAa,GAAIL,EAAD,KAC5B;EACCD,IAAI,EAAGL,QADR;EAEI,MAAMM;AAFV,CAD4B,CAAtB;AAOP,OAAO,MAAMM,aAAa,GAAIC,UAAD,KAC5B;EACCR,IAAI,EAAGJ,WADR;EAECY,UAAU,EAAG;IACZ,MAAMA,UAAU,CAACP,EADL;IAEZ,SAASO,UAAU,CAACN,KAFR;IAGZ,SAASM,UAAU,CAACL,KAHR;IAIZ,WAAWK,UAAU,CAACJ,OAJV;IAKZ,QAAQI,UAAU,CAACH;EALP;AAFd,CAD4B,CAAtB;AAaP,OAAO,MAAMI,SAAS,GAAIR,EAAD,KACxB;EACCD,IAAI,EAAGL,QADR;EAEI,MAAMM;AAFV,CADwB,CAAlB;;AAOP,IAAIS,YAAY,GAAG,MAAM;EAAA;;EACxB,IAAIC,QAAQ,GAAG,EAAf;EACAnB,SAAS,CAAC,MAAM;IACfC,KAAK,CAACmB,GAAN,CAAU,iBAAV,EAA6BC,IAA7B,CAAmCC,GAAD,IAAS;MAC1CH,QAAQ,CAACI,OAAT,GAAmBD,GAAG,CAACE,IAAJ,CAASC,QAA5B;IACA,CAFD;EAGE,CAJM,EAIJ,EAJI,CAAT;EAKE,OAAON,QAAP;AACF,CARD;;GAAID,Y;;AAWJ,eAAe,SAASQ,cAAT,GAAsD;EAAA,IAA9BC,KAA8B,uEAAtBT,YAAsB;EAAA,IAARU,MAAQ;;EAEpE,QAAQA,MAAM,CAACpB,IAAf;IACC,KAAKN,SAAL;MACC,OAAO,EACN,GAAGyB,KADG;QAENJ,OAAO,EAAG;UAAC,MAAMK,MAAM,CAACnB,EAAd;UACV,SAAS,CADC;UAEV,SAASmB,MAAM,CAACjB,KAFN;UAGV,WAAWiB,MAAM,CAAChB,OAHR;UAIV,QAAQgB,MAAM,CAACf;QAJL;MAFJ,CAAP;;IASD,KAAKT,WAAL;MACC,OAAO,EACN,GAAGuB,KADG;QAEHJ,OAAO,EAAGI,KAAK,CAACE,GAAN,CAAWC,IAAD,IAAUA,IAAI,CAACrB,EAAL,KAAYmB,MAAM,CAACnB,EAAnB,GAAwB,EAAC,GAAGqB,IAAJ;UAAU,GAAGF;QAAb,CAAxB,GAAgDE,IAApE;MAFP,CAAP;;IAKD,KAAK3B,QAAL;MACC,OAAO,EACN,GAAGwB,KADG;QAEHJ,OAAO,EAAGI,KAAK,CAACI,MAAN,CAAcD,IAAD,IAAU;UAAC,OAAOA,IAAI,CAACrB,EAAL,KAAYmB,MAAM,CAACnB,EAA1B;QAA6B,CAArD;MAFP,CAAP;;IAKD,KAAKJ,WAAL;MACC,OAAO,EACH,GAAGsB,KADA;QAENJ,OAAO,EAAGI,KAAK,CAACK,IAAN,CAAWC,GAAG,IAAI;UAACA,GAAG,CAACxB,EAAJ,KAAWmB,MAAM,CAACnB,EAAlB;QAAqB,CAAxC;MAFJ,CAAP;;IAID;MACC,OAAOkB,KAAP;EA7BF;AA+BA;KAjCuBD,c"},"metadata":{},"sourceType":"module"}